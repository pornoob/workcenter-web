<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/default.xhtml">
    <ui:define name="contenido">
        <h2>Ingreso de Ficha de Viajes</h2>

        <p:messages autoUpdate="true" closable="true" showDetail="true" />
        <h:form id="frmFichaViajes">       
		<table style="margin-top: 10%" id="tdatos">
			<tr align="center">
				<td>TRACTO</td>
				<td>CONDUCTOR</td>
				<td>GUIA</td>
				<td>TONELAJE</td>
				<td>DESTINO</td>
				<td>FECHA</td>
				<td>HORA</td>
			</tr>
			<tr>
				<td><p:inputText style="width:41px" id="numero" value="#{mantenedorFicha.viajes.numerTracto}" onblur="#{mantenedorFicha.obtenerCamion()}" onkeypress="return valida(event)"/></td>
				<td>
					<p:selectOneMenu style="width:250px" filter="true" filterMatchMode="contains" value="#{mantenedorFicha.viajes.nom_conductor}">
	                    <f:selectItem noSelectionOption="true" itemLabel="-- Seleccione --" itemValue="#{null}"/>
	                    <f:selectItems value="#{mantenedorFicha.personal}" var="c" itemLabel="#{c.nombreCompleto}" itemValue="#{c.nombreCompleto}"/>
	                </p:selectOneMenu>
				</td>
				<td>
					<p:inputText value="#{mantenedorFicha.viajes.numGuia}" onkeypress="return valida(event)" />
				</td>
				<td>
					<p:inputText value="#{mantenedorFicha.viajes.tonelaje}" onkeypress="return valida(event)"/>
				</td>
				<td>
					<p:autoComplete id="destinos" value="#{mantenedorFicha.viajes.destino}" completeMethod="#{mantenedorFicha.destinoAutocomplete}"
					var="d" itemLabel="#{d}" itemValue="#{d}" forceSelection="true"/>
				</td>
				<td>
				<p:calendar pattern="dd-MM-yyyy" id="ifecha" value="#{mantenedorFicha.viajes.fecha}"/>
				</td>
				<td><p:inputText style="width:41px" maxlength="4" value="#{mantenedorFicha.viajes.hora}"/></td>
			</tr>
			<tr>
			<td colspan="7" align="left"></td>
			</tr>
			<tr>
				<td colspan="7" align="right"><p:commandButton value="Guardar" action="#{mantenedorFicha.guardarFicha()}" update="@form"/> </td>
			</tr>
		</table> 
		
        </h:form>
    </ui:define>
</ui:composition>