<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/default.xhtml">
    <ui:define name="contenido">
        <h2>Listado de Despachos</h2>

        <p:messages autoUpdate="true" closable="true" showDetail="true"/>
        <h:form id="frmFichaViajes">
            <p:commandButton icon="fa fa-plus" value="Agregar Ficha" action="flowAgregarFicha"/>
            
            <p:dataTable id="tblDespachos"
            			 var="f" value="#{mantenedorFicha.lViajes}"
            			 emptyMessage="No se han encontrado resultados"
            			 filterEvent="enter"
            			 paginator="true" 
            			 rowsPerPageTemplate="#{constantes.filasPorPaginaTemplate}"
                         rows="#{constantes.cantidadFilasTablas}">
                <f:facet name="header">   
                <h:commandButton image="/img/icons/excel.png" title="Exportar a Excel" >
        			<p:dataExporter target="tblDespachos" type="xls" fileName="Listado_Despachos">      			
        			</p:dataExporter>
   				 </h:commandButton>     		
        		</f:facet>
                <p:column headerText="ID" filterBy="#{f.id}">
                	<h:outputText value="#{f.id}"/>
                </p:column>
                <p:column headerText="NÂº TRACTO" filterBy="#{f.numerTracto}">
                	 <h:outputText value="#{f.numerTracto}"/>
               	</p:column>
                <p:column headerText="PATENTE" filterBy="#{f.nomTracto}" filterMatchMode="contains">
                	 <h:outputText value="#{f.nomTracto}" />
                </p:column>
                <p:column headerText="CONDUCTOR" filterBy="#{f.nom_conductor}" filterMatchMode="contains">
                	 <h:outputText value="#{f.nom_conductor}" />
               	</p:column>
                <p:column headerText="GUIA" filterBy="#{f.numGuia}" filterMatchMode="exact">
                	 <h:outputText value="#{f.numGuia}" />
                </p:column>
                <p:column headerText="TONELAJE">
                <h:outputText value="#{f.tonelaje}" />
                </p:column>
                <p:column headerText="DESTINO" filterBy="#{f.destino}" filterMatchMode="contains">
                <h:outputText value="#{f.destino}" />
                </p:column>
                <p:column headerText="FECHA" filterBy="#{f.fecha}" filterMatchMode="contains">
                <h:outputText value="#{f.fecha}"/>
                </p:column>
                <p:column headerText="HORA">
                <h:outputText value="#{f.hora}" />
                </p:column>    
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>