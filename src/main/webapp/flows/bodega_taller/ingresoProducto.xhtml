<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:tvp="http://transportesventanas.cl"
                template="/templates/default.xhtml">

    <ui:define name="contenido">
        <p:messages autoUpdate="true" showDetail="true" closable="true"/>
        <h:form id="formBodegaTaller">

            <h2>Bodega Taller</h2>

            <p:outputPanel styleClass="ui-g">
                <p:outputPanel styleClass="ui-g-6">
                    <p:outputLabel value="Nombre producto" styleClass="ui-g-6"/>
                    <p:outputPanel styleClass="ui-g-6">
                        <p:inputText value="#{mantenedorBodegaTaller.producto.nombre}"
                                     required="true" requiredMessage="Debes indicar el nombre producto"/>
                    </p:outputPanel>
                </p:outputPanel>
                <p:outputPanel styleClass="ui-g-6 text-right">
                    <p:commandButton icon="fa fa-plus"
                                     value="Agregar producto"
                                     action="#{mantenedorBodegaTaller.addProducto()}"
                                     update="formBodegaTaller"/>
                    <p:commandButton icon="fa fa-arrow-left"
                                     rendered="#{isChildFlow}"
                                     action="back"
                                     process="@this"
                                     value="Volver"/>
                </p:outputPanel>
            </p:outputPanel>
            <p:dataTable value="#{mantenedorBodegaTaller.productos}" var="p"
                         filterEvent="enter" id="tblBodega">
                <p:column headerText="Id">
                    <h:outputText value="#{p.producto.productoId}"/>
                </p:column>
                <p:column headerText="CÃ³digo">
                    <h:outputText value="#{p.producto.codigo}"/>
                </p:column>
                <p:column headerText="Nombre" filterBy="#{p.producto.nombre}" filterMatchMode="contains">
                    <h:outputText value="#{p.producto.nombre}"/>
                </p:column>
                <p:column headerText="Proveedores" filterBy="#{p.proveedores}" filterMatchMode="contains">
                    <h:outputText value="#{p.proveedores}"/>
                </p:column>
                <p:column headerText="Cantidad">
                    <h:outputText value="#{p.cantidad}"/>
                </p:column>
                <p:column headerText="Precio Actual">
                    <h:outputText value="#{p.precioUnitario}">
                        <tvp:convertNumber groupingUsed="true"/>
                    </h:outputText>
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>